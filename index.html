<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CPGRAMS | Anonymous Grievance Portal BY TEAM CODEWAVE</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="gov-header">
      <div class="emblem-section">
        <div class="gov-title">
          <h2>Team CODEWAVE</h2>
          <p>Anonymous Grievance Redressal System</p>
        </div>
      </div>
      <nav>
        <a href="index.html">Register</a> |
        <a href="track.html">Track Status</a> |
        <a href="admin.html" style="color: red">Officer Login</a>
      </nav>
    </header>

    <div class="main-container">
      <div class="banner">LODGE YOUR COMPLAINT ANONYMOUSLY</div>
      <div class="content-body">
        <div class="form-group">
          <label>Type of Grievance / Issue</label>
          <select id="category">
            <option value="">-- Select Issue Type --</option>
            <option value="Corruption">Vigilance (Corruption / Bribery)</option>
            <option value="Harassment">
              Women Safety / Harassment / Child Abuse
            </option>
            <option value="Civic">Civic Services (Road/Water/Waste)</option>
            <option value="Political">Political Offence</option>
            <option value="Police">Police Misconduct / Inaction</option>
            <option value="Health">Healthcare / Hospital Negligence</option>
            <option value="Environment">
              Pollution / Environmental Concerns
            </option>
          </select>
        </div>

        <div class="form-group">
          <label>State / Union Territory</label>
          <select id="issuePlace" onchange="updateDistricts()">
            <option value="">-- Select State/UT --</option>
            <option value="Andaman and Nicobar Islands">
              Andaman and Nicobar Islands
            </option>
            <option value="Andhra Pradesh">Andhra Pradesh</option>
            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
            <option value="Assam">Assam</option>
            <option value="Bihar">Bihar</option>
            <option value="Chandigarh">Chandigarh</option>
            <option value="Chhattisgarh">Chhattisgarh</option>
            <option value="Dadra and Nagar Haveli and Daman and Diu">
              Dadra and Nagar Haveli and Daman and Diu
            </option>
            <option value="Delhi">Delhi (NCT)</option>
            <option value="Goa">Goa</option>
            <option value="Gujarat">Gujarat</option>
            <option value="Haryana">Haryana</option>
            <option value="Himachal Pradesh">Himachal Pradesh</option>
            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
            <option value="Jharkhand">Jharkhand</option>
            <option value="Karnataka">Karnataka</option>
            <option value="Kerala">Kerala</option>
            <option value="Ladakh">Ladakh</option>
            <option value="Lakshadweep">Lakshadweep</option>
            <option value="Madhya Pradesh">Madhya Pradesh</option>
            <option value="Maharashtra">Maharashtra</option>
            <option value="Manipur">Manipur</option>
            <option value="Meghalaya">Meghalaya</option>
            <option value="Mizoram">Mizoram</option>
            <option value="Nagaland">Nagaland</option>
            <option value="Odisha">Odisha</option>
            <option value="Puducherry">Puducherry</option>
            <option value="Punjab">Punjab</option>
            <option value="Rajasthan">Rajasthan</option>
            <option value="Sikkim">Sikkim</option>
            <option value="Tamil Nadu">Tamil Nadu</option>
            <option value="Telangana">Telangana</option>
            <option value="Tripura">Tripura</option>
            <option value="Uttar Pradesh">Uttar Pradesh</option>
            <option value="Uttarakhand">Uttarakhand</option>
            <option value="West Bengal">West Bengal</option>
          </select>
        </div>

        <div class="form-group">
          <label>City / District</label>
          <select id="issueCity">
            <option value="">-- Select State First --</option>
          </select>
        </div>

        <div class="form-group">
          <label>Date of Incident</label>
          <input type="date" id="incidentDate" />
        </div>

        <div class="form-group">
          <label>Description of Grievance</label>
          <textarea
            id="complaintText"
            placeholder="Describe the issue clearly without mentioning your personal identity details..."
          ></textarea>
        </div>
        <div class="form-group">
          <label>Upload Evidence (Optional)</label>
          <input
            type="file"
            id="evidenceFile"
            onchange="handleFileSelect(event)"
            accept="image/*, .pdf, .doc, .docx"
            style="border: 1px solid #ccc; padding: 10px; width: 100%"
          />
          <p style="font-size: 0.75rem; color: #666; margin-top: 5px">
            Supported: Images, PDF, Doc (Max: 1 MB)
          </p>
        </div>

        <button class="btn-submit" id="submitBtn" onclick="submitComplaint()">
          Submit Securely
        </button>

        <div id="result" class="result-box hidden">
          <h3 style="color: #138808">‚úîÔ∏è Registration Successful</h3>
          <p>Please note your Unique Grievance ID for tracking:</p>
          <div
            class="id-text"
            id="complaintID"
            style="
              background: #eef2f7;
              padding: 15px;
              font-weight: bold;
              font-size: 1.5rem;
              letter-spacing: 2px;
            "
          ></div>

          <div
            style="
              background: #fff5f5;
              border: 2px solid #fc8181;
              padding: 15px;
              border-radius: 8px;
              margin-top: 20px;
            "
          >
            <p style="color: #c53030; font-weight: bold; margin-bottom: 5px">
              ‚ö†Ô∏è CRITICAL WARNING / ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ:
            </p>
            <p style="color: #2d3748; font-size: 0.9rem; line-height: 1.4">
              This portal is strictly **ANONYMOUS**. We do not store your name,
              email, or phone number.
              <strong
                >If you lose this Complaint ID, it is IMPOSSIBLE to recover it
                or track your grievance.</strong
              >
              Please take a screenshot or write it down immediately.
              <br /><br />
              ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶á ‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¨‡ßá‡¶®‡¶æ‡¶Æ‡ßÄ‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¨‡¶æ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞
              ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶ø ‡¶®‡¶æ‡•§
              <strong
                >‡¶Ø‡¶¶‡¶ø ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶® ‡¶Ü‡¶á‡¶°‡¶ø‡¶ü‡¶ø ‡¶π‡¶æ‡¶∞‡¶ø‡ßü‡ßá ‡¶´‡ßá‡¶≤‡ßá‡¶®, ‡¶§‡¶¨‡ßá ‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó‡¶ü‡¶ø ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï
                ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ü‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶â‡¶™‡¶æ‡ßü ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ‡¶®‡¶æ‡•§</strong
              >
              ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶á‡¶°‡¶ø‡¶ü‡¶ø ‡¶è‡¶ñ‡¶®‡¶á ‡¶®‡ßã‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶ø‡¶® ‡¶¨‡¶æ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶∂‡¶ü ‡¶®‡¶ø‡¶®‡•§
            </p>
          </div>
        </div>
      </div>
    </div>
 <div id="redactionModal" style="display:none;" class="modal-overlay">
    <div class="modal-box">
        <h2 style="color: #d32f2f; margin-bottom: 5px;">‚ö†Ô∏è Protect Your Identity</h2>
        <p style="color: #555; font-size: 14px; margin-bottom: 15px;">
            Before submitting, please <strong>black out</strong> sensitive details like 
            <br>
            <span style="background:#eee; padding:2px 5px; border-radius:4px;">Phone Number</span> 
            <span style="background:#eee; padding:2px 5px; border-radius:4px;">Aadhaar/PAN</span> 
            <span style="background:#eee; padding:2px 5px; border-radius:4px;">Faces</span>
        </p>

        <div class="toolbar" style="display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 15px;">
            
            <div class="tool-group" style="display: flex; align-items: center; gap: 5px;">
                <label for="brushSize" style="font-weight:bold;">‚¨õ Size:</label>
                <input type="range" id="brushSize" min="10" max="100" value="30" oninput="updateBrushDisplay(this.value)">
                <span id="brushSizeDisplay" style="font-weight:bold; color:#007bff;">30px</span>
            </div>

            <div class="zoom-controls" style="border-left: 2px solid #ddd; padding-left: 15px; display: flex; align-items: center; gap: 8px;">
                <span style="font-weight:bold; color:#555;">üîç Zoom:</span>
                <button onclick="changeZoom(0.2)" class="btn-zoom" title="Zoom In" style="padding: 5px 10px; cursor: pointer; border-radius: 5px; border: 1px solid #ccc;">‚ûï</button>
                <button onclick="changeZoom(-0.2)" class="btn-zoom" title="Zoom Out" style="padding: 5px 10px; cursor: pointer; border-radius: 5px; border: 1px solid #ccc;">‚ûñ</button>
                <button onclick="resetZoom()" class="btn-zoom" title="Reset 100%" style="padding: 5px 10px; cursor: pointer; border-radius: 5px; border: 1px solid #ccc;">‚Ü∫</button>
                <span id="zoomDisplay" style="font-weight:bold; color:#555; min-width: 45px;">100%</span>
            </div>

        </div>

        <div class="canvas-wrapper" id="canvasContainer" style="overflow: auto; max-height: 50vh; border: 2px dashed #ccc; display: flex; align-items: flex-start; justify-content: center; background: #e9ecef;">
            <canvas id="editorCanvas"></canvas>
        </div>

        <div class="modal-buttons" style="margin-top: 15px;">
            <button onclick="saveRedaction()" class="btn-save">‚úÖ Save & Attach</button>
            <button onclick="cancelRedaction()" class="btn-cancel">‚ùå Cancel</button>
        </div>
    </div>
</div>
    <!-- <div id="canvasModal" class="modal hidden" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:9999; display:none; flex-direction:column; align-items:center; justify-content:center;">
    <div style="background:white; padding:20px; border-radius:10px; text-align:center; max-width:90%;">
        <h3>Draw to Hide Personal Info</h3>
        <p>Use your mouse/finger to draw black boxes over sensitive info.</p>
        <canvas id="redactCanvas" style="border:1px solid #000; cursor:crosshair; max-width:100%; height:auto;"></canvas>
        <div style="margin-top:15px;">
            <button onclick="saveRedaction()" style="padding:10px 20px; background:green; color:white; border:none; border-radius:5px;">Done & Save</button>
            <button onclick="closeCanvas()" style="padding:10px 20px; background:red; color:white; border:none; border-radius:5px;">Cancel</button>
        </div>
    </div>
</div> -->

    <footer class="gov-footer">
      <div class="footer-content">
        <div class="disclaimer-box">
          <p>
            <strong>üö® PROTOTYPE DISCLAIMER:</strong> This website is developed
            solely for a Hackathon project by Team Codewave. This is
            <u>NOT</u> an official Government of India portal.
          </p>
        </div>
        <div class="footer-links">
          <p>¬© 2026 Grievance Redressal System | Team Codewave</p>
          <p>Powered by Firebase App Check & reCAPTCHA v3</p>
        </div>
      </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="app.js"></script>
  </body>
</html>
